<odoo>
    <record id="view_partner_form_inherit" model="ir.ui.view">
        <field name="name">res.partner.form</field>
        <field name="model">res.partner</field>
        <field name="inherit_id" ref="base.view_partner_form"/>
        <field name="arch" type="xml">
            <xpath expr="//group/group" position="inside">
                <!--                <field name="broker" />-->
                <!--                <field name="broker_id" attrs="{'invisible': [('broker','!=',True)]}"/>-->
                <field name="fra_no" />
                <field name="expire_date" />
                <field name="national_id" />
                <field name="com_reg" />
            </xpath>
        </field>
    </record>
    <record model="ir.ui.view" id="res_user_agent_access">
        <field name="model">res.users</field>
        <field name="name">res.users.form</field>

        <field name="inherit_id" ref="base.view_users_form"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='login']" position="after">
                <div class="oe_title">
                    <label for="is_broker" string="Broker" />
                    <field name="is_broker" />
                </div>
                <div class="oe_title">
                    <label for="agent_code" string="Agent Code"/>
                    <field name="agent_code"  attrs="{'invisible': [('is_broker','!=',True)]}" />
                </div>
                <div class="oe_title">
                    <label for="card_id" string="Broker Card"/>
                    <field name="card_id"  attrs="{'invisible': [('is_broker','!=',True)]}" />
                </div>
            </xpath>
        </field>
    </record>
    <record id="brokers_tree_view" model="ir.ui.view">
        <field name="name">brokers Tree</field>
        <field name="model">persons</field>
        <field name="arch" type="xml">
            <tree editable="bottom">
                <field name="name" />
                <field name="fra_no" />
                <field name="expire_date" />
                <field name="card_id" />
                <field name="com_reg" widget="char" />
                <field name="pin" widget="char" />
                <field name="expire_date" />
                <field name="agent_code" />
                <field name="mobile" />
                <field name="is_broker" invisible="1"/>
                <field name="is_customer" invisible="1"/>
                <field name="is_user" invisible="1"/>
                <button  name="create_broker_user" string="Create User" type="object" class="oe_highlight" attrs="{'invisible': [('is_user','=',True)]}" />

            </tree>
        </field>
    </record>
    <record id="broker_action" model="ir.actions.act_window">
        <field name="name">Brokers</field>
        <field name="res_model">persons</field>
        <field name="view_mode">tree,form,kanban,pivot</field>
        <!--        <field name="context">{"search_default_active":1}</field>-->
        <field name="view_id" ref="brokers_tree_view"/>
        <field name='domain'>[('is_broker','=',True)]</field>
    </record>
      <record id="customers_action" model="ir.actions.act_window">
        <field name="name">Customers</field>
        <field name="res_model">persons</field>
        <field name="view_mode">tree,form,kanban,pivot</field>
          <field name='domain'>[('is_customer','=',True)]</field>
        <!--        <field name="context">{"search_default_active":1}</field>-->
        <field name="view_id" ref="brokers_tree_view"/>
    </record>

</odoo>